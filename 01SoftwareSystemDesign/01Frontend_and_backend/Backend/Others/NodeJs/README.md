## æ¦‚è¿°

**Node.js çš„ä»·å€¼**

- **å‰åç«¯ç»Ÿä¸€è¯­è¨€ï¼ˆJavaScript/TypeScriptï¼‰**
   - Node.js çš„æœ€å¤§ä¼˜åŠ¿æ˜¯ä½ å¯ä»¥ç”¨åŒä¸€è¯­è¨€ï¼ˆå°¤å…¶æ˜¯ TypeScriptï¼‰å†™å‰ç«¯å’Œåç«¯ã€‚
      å¯¹äº Agent åº”ç”¨å¼€å‘ï¼Œå¦‚æœä½ éœ€è¦å¿«é€Ÿåšå‰ç«¯ UI + åç«¯æœåŠ¡çš„æ•´åˆï¼ŒNode.js ä¼šè®©å¼€å‘æ•ˆç‡éå¸¸é«˜ã€‚
   
- **ç”Ÿæ€æå…¶ä¸°å¯Œ**
  - Web æ¡†æ¶ï¼šExpressã€NestJSã€Fastify
  - å‰ç«¯é…å¥—ï¼šNext.jsã€Viteã€React ç”Ÿæ€
  - AI/Agent ç›¸å…³ SDKï¼šå¤§éƒ¨åˆ† AI APIï¼ˆOpenAIã€LangChain.jsã€Vercel AI SDKï¼‰ç¬¬ä¸€æ—¶é—´æ”¯æŒ Node.js/TS
     è¿™æ„å‘³ç€ä½ åœ¨å®éªŒæ–°åŠŸèƒ½æ—¶ï¼Œå¾€å¾€ Node.js ç”Ÿæ€é‡Œç°æˆçš„å·¥å…·æ›´å¤šã€‚
- **ç¤¾åŒºä¸éƒ¨ç½²ä¼˜åŠ¿**
   Node.js ä¸äº‘åŸç”Ÿç¯å¢ƒï¼ˆServerlessã€Edge Functionsã€Vercelã€Cloudflare Workers ç­‰ï¼‰ç»“åˆç´§å¯†ï¼Œèƒ½å¿«é€Ÿéƒ¨ç½²å’Œè¿­ä»£ã€‚



**ä¸ Pythonã€Go çš„äº’è¡¥æ€§ï¼š**

- **Python**
  - æ“…é•¿ AI/æ•°æ®å¤„ç†/ç§‘ç ”å·¥å…·
  - é€‚åˆåœ¨ Agent åº”ç”¨é‡Œåšåº•å±‚èƒ½åŠ›ï¼ˆæ¨¡å‹è°ƒç”¨ã€æ•°æ®å¤„ç†ï¼‰
  - ä½†å‰åç«¯ä¸€ä½“åŒ–å’Œç°ä»£ Web å¼€å‘ä½“éªŒä¸å¦‚ Node.js
- **Go**
  - é€‚åˆé«˜å¹¶å‘ã€æ€§èƒ½æ•æ„Ÿçš„åç«¯æœåŠ¡
  - éƒ¨ç½²ç®€å•ã€äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶
  - ä½†ç”Ÿæ€åœ¨ Web/å‰ç«¯æ•´åˆä¸Šæ¯” Node.js ç¨å¼±
- **Node.js**
  - å¼ºé¡¹æ˜¯å‰åç«¯æ•´åˆã€Web APIã€å®æ—¶äº¤äº’
  - åœ¨æ„å»º AI åº”ç”¨çš„ **Web äº§å“å½¢æ€** ä¸Šæœ‰ä¼˜åŠ¿
  - æ€§èƒ½æ¯”ä¸ä¸Š Goï¼Œä½†å¼€å‘æ•ˆç‡å’Œç”Ÿæ€å·¥å…·é“¾èƒ½è¡¥è¶³



**Node.jså…¨æ ˆå¾ˆéš¾æ‰¾åˆ°å·¥ä½œ**ï¼Œå¯¹äºAgentåº”ç”¨å¼€å‘æ¥è¯´ï¼Œå¯èƒ½ç›®å‰éœ€è¦å…³æ³¨ï¼š

- ä½¿ç”¨Next.jsã€Reactç­‰æ¡†æ¶æ—¶ä¼šç”¨åˆ°
- jså…¨æ ˆå¿«é€Ÿå¼€å‘é¡¹ç›®
- å¼€æºé¡¹ç›®ä»£ç é˜…è¯»



é’ˆå¯¹ä¸Šè¿°å‡ ç‚¹ï¼Œå¯ä»¥é’ˆå¯¹æ€§çš„åšå¯¹åº”é¡¹ç›®ï¼Œä»¥è¾¾æˆAgentå¼€å‘æ‰€éœ€æŠ€èƒ½ã€‚



## æé€Ÿå…¥é—¨

å‚è€ƒèµ„æºï¼š

- Node.jså®˜ç½‘æ•™ç¨‹ï¼šhttps://nodejs.org/zh-cn/learn/getting-started/introduction-to-nodejs
- 2hå¿«é€Ÿå…¥é—¨è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1Up421D7kz
- å¤§æ¨¡å‹è¾…åŠ©åˆ—å‡ºå¿«é€Ÿå…¥é—¨è¦ç‚¹



### ç¯å¢ƒé…ç½®

ä¸‹è½½ï¼šhttps://nodejs.org/zh-cn/download

æ­£å¸¸å®‰è£…å³å¯ï¼ŒåŸºäº`node -v`éªŒè¯æ˜¯å¦æˆåŠŸã€‚



ç¬¬ä¸€ä¸ªç¨‹åºï¼š01helloworld.js

```js
console.log("Hello Node.js");
```

ç¤ºä¾‹ç»“æœï¼š

```js
> node .\01helloworld.js
Hello Node.js
```



### æ ¸å¿ƒè¯­æ³•

#### æ¨¡å—åŒ–

ç¤ºä¾‹ä»£ç ï¼š

```js
// math.js
export function add(a, b) {
  return a + b;
}

// app.js
import { add } from "./math.js";
console.log(add(2, 3)); // 5

```

è¿è¡Œç»“æœï¼š

```js
> node .\app.js
5
```



#### æ–‡ä»¶æ“ä½œ

ç¤ºä¾‹ä»£ç ï¼š

```js
import fs from "fs";

// å†™æ–‡ä»¶
fs.writeFileSync("test.txt", "Hello World");

// è¯»æ–‡ä»¶
const data = fs.readFileSync("test.txt", "utf-8");
console.log(data);

```



### **HTTP æœåŠ¡**

ç¤ºä¾‹ä»£ç ï¼š

```js
import http from "http";

const server = http.createServer((req, res) => {
  res.writeHead(200, { "Content-Type": "text/plain" });
  res.end("Hello Node.js Server");
});

server.listen(3000, () => console.log("Server running at http://localhost:3000"));
```

ç¤ºä¾‹ç»“æœï¼š

![image-20250913160857845](./assets/image-20250913160857845.png)



### **ä½¿ç”¨ npm åŒ…**

```bash
npm init -y
npm install axios
```

```js
import axios from "axios";

const fetchData = async () => {
  const res = await axios.get("https://api.github.com");
  console.log(res.data);
};
fetchData();
```



## æ¡ˆä¾‹

### Node.js + Next.js + React å°ç¤ºä¾‹

------

#### 1ã€Next.js API Routeï¼ˆNode.js + React ä¸€ä½“åŒ–ï¼‰

Next.js å…è®¸ä½ ç›´æ¥å†™ **åç«¯ API**ï¼Œä¸ç”¨å•ç‹¬å¼€ Node.js æœåŠ¡ã€‚

```javascript
// pages/api/hello.ts
import type { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  res.status(200).json({ message: "Hello from Node.js API in Next.js" });
}
```

ğŸ‘‰ è®¿é—® `http://localhost:3000/api/hello`
 å°±èƒ½çœ‹åˆ°è¿”å› `{ "message": "Hello from Node.js API in Next.js" }`

------

#### 2 Next.js å‰ç«¯è°ƒç”¨ API

```javascript
// pages/index.tsx
import { useEffect, useState } from "react";

export default function Home() {
  const [msg, setMsg] = useState("");

  useEffect(() => {
    fetch("/api/hello")
      .then(res => res.json())
      .then(data => setMsg(data.message));
  }, []);

  return <h1>{msg}</h1>;
}
```

ğŸ‘‰ é¡µé¢åŠ è½½åï¼Œä¼šè°ƒç”¨ `/api/hello` å¹¶æ˜¾ç¤ºè¿”å›å†…å®¹ã€‚
 ï¼ˆå‰ç«¯ React + åç«¯ Node.js API åœ¨ä¸€ä¸ªé¡¹ç›®é‡Œå®Œæˆï¼‰

------

#### 3 è°ƒç”¨å¤–éƒ¨ APIï¼ˆæ¯”å¦‚ OpenAIï¼‰

```javascript
// pages/api/chat.ts
import type { NextApiRequest, NextApiResponse } from "next";
import axios from "axios";

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  const { message } = req.body;

  const response = await axios.post("https://api.openai.com/v1/chat/completions",
    {
      model: "gpt-3.5-turbo",
      messages: [{ role: "user", content: message }],
    },
    {
      headers: { Authorization: `Bearer ${process.env.OPENAI_API_KEY}` },
    }
  );

  res.status(200).json({ reply: response.data.choices[0].message.content });
}
// pages/index.tsx
import { useState } from "react";

export default function Home() {
  const [input, setInput] = useState("");
  const [reply, setReply] = useState("");

  const sendMessage = async () => {
    const res = await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: input }),
    });
    const data = await res.json();
    setReply(data.reply);
  };

  return (
    <div>
      <input value={input} onChange={e => setInput(e.target.value)} />
      <button onClick={sendMessage}>Send</button>
      <p>{reply}</p>
    </div>
  );
}
```

ğŸ‘‰ è¿™å°±æ˜¯ä¸€ä¸ªæœ€å°å¯è¡Œçš„ **AI Chat åº”ç”¨ï¼ˆNode.js + Next.js + Reactï¼‰**ã€‚