> 参考：[2025.12.18 干货收藏｜深度解析数据分析Agent技术原理与产品发展](https://mp.weixin.qq.com/s/p1zNUXvaYT_dSqXSdEtj8w)

架构是正常Agent架构（1. 任务规划 → 2. 工具选择 → 3. 工具调用 → 4. 子任务递归执行 → 5. 反馈生成），比较好奇的是，他是如何做好数据分析的：数据分析Agent的内核被拆解为三个各司其职的专项Agent，由“中央大脑”进行协调

| 专项Agent                     | 核心职能           | 解决的问题举例                                         | 实现方式                                                     |
| ----------------------------- | ------------------ | ------------------------------------------------------ | ------------------------------------------------------------ |
| QueryAgent（取数Agent）       | 基础数据获取       | “本季度各大区的销售额是多少？”                         | 主要采用 NL2Data 技术路线，将自然语言转换为可执行的查询（如SQL、DSL或Python代码），从数据库中获取准确的统计数据。 |
| DocumentAgent（理解Agent）    | 非结构化数据分析   | 分析一份市场调研PDF报告。                              | 处理文本、PDF等非结构化数据，从中提取关键信息，将其转化为可供分析的知识。 |
| DeepAnalyzeAgent（分析Agent） | 复杂分析与报告生成 | “生成一份上个月的经营分析报告，并说明业绩波动的原因。” | 作为协调中枢，负责复杂问题的规划和整合。它会先调用QueryAgent获取销售数据，再调用DocumentAgent理解当时的市场活动和策略，最后将全部信息综合起来，进行归纳、总结并撰写成一份完整的分析报告。 |

在实现“取数”这一基础环节时，文章重点比较了三种技术路径，并指出**NL2Data是更先进和实用的实现方式**：

| 技术路线        | 实现原理                                                   | 优势                                                       | 局限性                         |
| --------------- | ---------------------------------------------------------- | ---------------------------------------------------------- | ------------------------------ |
| NL2SQL          | 自然语言 → SQL代码                                         | 起步快，泛化性好                                           | 准确性、安全性、复杂分析能力差 |
| NL2DSL          | 自然语言 → BI引擎专用语言 → SQL                            | 准确性高，可复用现有BI系统的安全和可视化能力               | 受限于特定BI引擎的能力         |
| NL2Data（推荐） | **混合模式**，根据问题智能选择最佳路径（SQL/DSL/Python等） | **平衡了准确性、泛化性和复杂分析能力**，是更强大的实现方式 | 技术架构复杂，对团队要求高     |

