# 01 RAID

略，了解各个RAID方案，和服务器厂商协商即可。



# 02 CloneZilla

> 示例教程：
>
> - （简洁）https://blog.csdn.net/weixin_43400806/article/details/147252643
> - https://zhuanlan.zhihu.com/p/354584111
>
> 网上教程很多，各个博客可以参考着看

基于**再生龙CloneZilla**完成，需要两个U盘，具体步骤如下。



### 1、准备系统盘

- 在CloneZilla官网下载CloneZilla的镜像或者zip文件：https://clonezilla.org/downloads/download.php?branch=alternative
- 下载UltraISO（可试用）用于烧录镜像

CloneZilla启动盘完成后，即可进行磁盘备份



### 2、磁盘备份

准备一个用于存储镜像的新u盘：

- a) 将此U盘插入到需要封装的Linux机器上，在Linux系统上进行ext4的格式化
- b) 打开terminal，输入sudo fdisk -l查看当前所有磁盘，在该列表中应该可以看到U盘的名称，如/dev/sdb
- c) 通过sudo umount /dev/sdb取消此U盘的挂载，**注意：这一步必须做**（如果出现target is busy，把u盘拔了重插）
- d) 使用sudo mkfs.ext4 /dev/sdb进行ext4格式的格式化
- e) 拔下格式化后的U盘，插上CloneZilla启动盘，重启电脑

------

当前电脑f11进入bios

注意：

- 准备备份镜像时找不到u盘？退出此步骤，把u盘拔下来换一个口插，然后重新检测即可
- 镜像备份完毕，显示镜像文件备份成功，已经到最后一步时出现`target is busy. down. Now sysncing - flush filesysyem buffers `，这这里卡顿了很久，属于正常现象，虽然正常没有target is busy，但后续步骤都是正常的
- 恢复镜像时，开局突然显示100%，但是又恢复了正常，没问题

PS：为了检测镜像恢复的效果，这里镜像备份完成后，重启电脑，进入ubuntu后，删除了一些文件和docker容器，之后开始尝试磁盘恢复

```
# 停止所有正在运行的容器
docker stop $(docker ps -aq)

# 删除所有容器
docker rm $(docker ps -aq)

# 删除所有镜像
docker rmi $(docker images -q)
```



### 3、磁盘恢复

文件已恢复、docker容器已恢复，4T的硬盘挂载正常，文件未丢失

运行LLM服务、资源监控程序，正常





# 03 固态拷贝机

直接买台固态拷贝机即可，不过目前同型号固态拷贝实测可用，但目标固态大于源固态情况下测试失败